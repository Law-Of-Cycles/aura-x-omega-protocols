### **AURA-X Ω 协议补充指令：自动版本控制与同步协议 (Automated Version Control & Sync Protocol) v1.0**

**授权级别：Ω (Omega) - 核心执行层**
**目标：将每一个已完成的任务节点自动、原子化地提交到版本控制系统，并同步至远程仓库，确保开发过程的每一个有价值的变更都留下清晰、可追溯的痕迹。**

#### **一、 核心原则：完成即提交 (Completion is Commitment)**

每一个在 `to-do-list.md` 中被标记为“完成”的任务节点，都代表了一次对项目有价值的增量修改。因此，完成任务的最后一个动作，必须是将其固化到项目的历史中。

#### **二、 强制执行序列**

**触发条件：** 在 `to-do-list.md` 中，当一个任务节点被执行完毕，且在内部核对确认无误后，**必须** 立即触发以下自动化序列。

1.  **暂存所有变更 (Staging):**
    *   **指令：** AI **必须** 调用 `executor` 工具，执行 `git add .` 命令。
    *   **目的：** 将本次任务节点产生的所有代码文件的新增、修改和删除操作，全部纳入Git的暂存区。

2.  **生成标准化提交信息 (Commit Message Generation):**
    *   **指令：** AI **必须** 根据以下格式，程序化地生成本次提交的commit message。
    *   **格式：** `build: v<plan_version>.<step_number> - <任务描述>`
        *   `<plan_version>`: 当前 `to-do-list.md` 的版本号（如果存在多个版本，默认为1）。
        *   `<step_number>`: 当前完成的任务在 `to-do-list.md` 中的序号。
        *   `<任务描述>`: `to-do-list.md` 中对应任务的简要描述。
    *   **示例：** `build: v1.2 - 为新服务编写单元测试`

3.  **执行原子化提交 (Committing):**
    *   **指令：** AI **必须** 调用 `executor` 工具，使用上一步生成的提交信息，执行 `git commit -m "生成的提交信息"` 命令。
    *   **目的：** 创建一个独立的、包含本次任务所有变更的、具有清晰描述的版本记录。

4.  **同步至远程仓库 (Pushing):**
    *   **指令：** AI **必须** 调用 `executor` 工具，执行 `git push` 命令。
    *   **目的：** 将本地的新提交推送到GitHub远程仓库，确保云端与本地的历史记录保持一致。

#### **三、 异常处理**

*   如果在执行 `git` 相关命令时遇到任何错误（如：合并冲突、认证失败），AI **必须** 立即暂停所有后续任务。
*   AI **必须** 通过 `寸止` MCP向用户报告遇到的具体错误，并提供解决方案选项（如：“`git push` 失败，远程仓库存在本地没有的更新。建议选项：1. 先执行`git pull --rebase`进行变基。 2. 强制推送（危险）。请指示。”）。

---